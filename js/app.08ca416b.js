(function(e){function t(t){for(var a,i,o=t[0],l=t[1],u=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},s=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("64a9")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},16:function(e,t){},17:function(e,t){},18:function(e,t){},19:function(e,t){},2:function(e,t){},20:function(e,t){},21:function(e,t){},22:function(e,t){},"2dc0":function(e){e.exports=JSON.parse('{"networks":{"mainnet":["DAI"],"kovan":["TEST"]}}')},3:function(e,t){},4:function(e,t){},"49dd":function(e,t,n){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=n("aff1"),s=n.n(r),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"antialiased text-gray-200 flex flex-col min-h-screen bg-gray-800",attrs:{id:"app"}},[n("router-view",{staticClass:"flex-1"})],1)},o=[],l=(n("034f"),n("2877")),u={},c=Object(l["a"])(u,i,o,!1,null,null,null),d=c.exports,p=n("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:" container mx-auto bg-gray-800 ",attrs:{id:"wallet"}},[n("Navbar"),n("div",{staticClass:" ",attrs:{id:"jumbotron"}},[n("div",{staticClass:"whitespace-sm"}),n("div",{staticClass:"subtitle color-primary has-text-centered"},[e._v("\n          "+e._s(e.errorMessage)+"\n        ")])]),n("section",{staticClass:"hero  bg-gray-400 flex px-4 text-black"},[e.selectedActionAsset?n("div",{staticClass:"token-titlebar flex p-2"},[n("div",{staticClass:"token-icon  "},[n("img",{attrs:{src:e.selectedActionAsset.imgurl,height:"24",width:"24"}})]),n("div",{staticClass:"token-title px-4 "},[e._v(" "+e._s(e.selectedActionAsset.name)+" ")])]):e._e(),n("div",{staticClass:"flex-grow"}),n("div",{staticClass:"inline-block"},[0==e.connectedToWeb3()?n("div",{staticClass:"button bg-green-500 hover:bg-green-700 text-white font-bold my-2 py-2 px-4 rounded cursor-pointer",on:{click:e.connectToWeb3}},[e._v("Connect to Web3")]):e._e(),e.connectedToWeb3()?n("div",{staticClass:"truncate  text-gray-800 p-2",staticStyle:{"max-width":"250px"}},[n("Web3NetButton",{attrs:{web3Plug:e.web3Plug}}),n("span",{staticClass:"  ",staticStyle:{"max-width":"120px"}},[n("a",{staticClass:"text-gray-800  ",attrs:{href:e.getEtherscanBaseURL()+"/address/"+e.activeAccountAddress,target:"_blank"}},[e._v("  "+e._s(e.activeAccountAddress)+" ")])])],1):e._e()])]),1==e.connectedToWeb3()?n("section",{staticClass:"hero   "},[n("div",{staticClass:"hero-body"},[n("ActionContainer",{attrs:{shouldRender:!0,selectedActionAsset:e.selectedActionAsset,web3Plug:e.web3Plug}}),n("div",{staticClass:"whitespace-md"}),1==e.connectedToWeb3()?n("AssetList",{attrs:{networkName:e.networkName,onSelectedAssetCallback:e.onSelectedAssetCallback,web3Plug:e.web3Plug}}):e._e(),n("div",{staticClass:"whitespace-md"}),e._e()],1)]):e._e(),n("Footer")],1)},y=[],f=(n("6b54"),n("2397"),n("768b")),v=(n("ac6a"),n("ffc1"),n("96cf"),n("3b8d")),b=n("b0b4"),h=n("d225"),g=n("4e2b7"),w=n("308d"),k=n("6bb5"),x=n("901e"),C=n.n(x);function T(e){var t=_();return function(){var n,a=Object(k["a"])(e);if(t){var r=Object(k["a"])(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(w["a"])(this,n)}}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var A=n("99e5"),R=(A.utils,n("9726")),P=n("faa1"),M=function(e){Object(g["a"])(n,e);var t=T(n);function n(){return Object(h["a"])(this,n),t.apply(this,arguments)}return n}(P),O=new M,N={"0x1":"mainnet","0x2a":"kovan","0x64":"xdai"},S=function(){function e(){Object(h["a"])(this,e)}return Object(b["a"])(e,[{key:"connectWeb3",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("connectWeb3"),window.ethereum?(window.web3=new A(window.ethereum),this.web3=window.web3,window.ethereum.enable(),window.ethereum.on("accountsChanged",(function(e){O.emit("stateChanged",t.getConnectionState())})),window.ethereum.on("chainChanged",(function(e){O.emit("stateChanged",t.getConnectionState())})),O.emit("stateChanged",this.getConnectionState())):O.emit("error","No web3 provider found.");case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getPlugEventEmitter",value:function(){return O}},{key:"getConnectionState",value:function(){return{activeAccountAddress:window.ethereum.selectedAddress,activeNetworkId:window.ethereum.chainId}}},{key:"getWeb3NetworkName",value:function(e){for(var t=0,n=Object.entries(N);t<n.length;t++){var a=Object(f["a"])(n[t],2),r=a[0],s=a[1];if(e==r)return s}return console.error("Invalid network Id: ",e),null}},{key:"getContractDataForActiveNetwork",value:function(){var e=this.getConnectionState().activeNetworkId,t=this.getWeb3NetworkName(e);if(t)return R.networks[t]}},{key:"getContractDataForNetworkID",value:function(e){var t=this.getWeb3NetworkName(e);if(t)return R.networks[t]}},{key:"getConnectedAccounts",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCustomContract",value:function(e,t,n){var a=new e.eth.Contract(t,n);return a}},{key:"getETHBalance",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new A(A.givenProvider),e.abrupt("return",n.eth.getBalance(t));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTokenBalance",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new A(A.givenProvider),r=new a.eth.Contract(tokenContractABI,t,{}),e.next=4,r.methods.balanceOf(n).call();case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"rawAmountToFormatted",value:function(e,t){return(e*Math.pow(10,-1*t)).toFixed(t)}},{key:"formattedAmountToRaw",value:function(e,t){console.log("meep",new C.a(10));var n=new C.a(10).exponentiatedBy(t);return n.multipliedBy(e).toFixed()}}]),e}(),j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender&&e.selectedActionAsset?n("div",{staticClass:"action-container box  bg-gray-600 px-8",attrs:{id:"action-container"}},[n("div",{staticClass:"tabs flex flex-col sm:flex-row select-none"},[n("div",{staticClass:"tab bg-gray-700 text-gray-300 py-4 px-6 block hover:text-blue-500 focus:outline-none cursor-pointer",class:{"text-blue-500 bg-gray-800":"permit"==e.selectedActionType},on:{click:function(t){return e.selectAction("permit")}}},[e._m(0)]),n("div",{staticClass:"tab bg-gray-700 text-gray-300 py-4 px-6 block hover:text-blue-500 focus:outline-none cursor-pointer",class:{"text-blue-500 bg-gray-800":"lavatransfer"==e.selectedActionType},on:{click:function(t){return e.selectAction("lavatransfer")}}},[e._m(1)])]),"permit"==e.selectedActionType?n("div",{staticClass:"approve-container m-4 p-4"},[n("div",{staticClass:"input-container padding-md"},[n("div",{staticClass:"label"},[e._v("Approve Tokens")]),n("div",{staticClass:"flex flex-row w-full"},[n("div",{staticClass:" flex-grow w-1/2"},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.permitTokenQuantity,expression:"permitTokenQuantity"}],staticClass:" hidden h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline ",attrs:{type:"text",placeholder:"token amount"},domProps:{value:e.permitTokenQuantity},on:{input:function(t){t.target.composing||(e.permitTokenQuantity=t.target.value)}}}),n("div",{staticClass:"button inline-block bg-green-500 hover:bg-green-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionPermitTokens}},[e._v(" Permit All ")])])]),n("div",{staticClass:"  flex-grow  w-1/2"},[e.permitMetaData?n("div",{staticClass:"form-group padding-md"},[n("div",{staticClass:"label"},[e._v("Relay Node URL")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.relayNodeURL,expression:"relayNodeURL"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"xxx.xxx.xxx.xxx:yyyy"},domProps:{value:e.relayNodeURL},on:{input:function(t){t.target.composing||(e.relayNodeURL=t.target.value)}}}),n("div",{staticClass:"whitespace-sm"}),e.permitMetaData?n("div",{attrs:{id:"btn-broadcast-lava-packet"}},[n("div",{staticClass:"button inline-block bg-blue-500 hover:bg-blue-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionBroadcastPermitPacket}},[e._v("Broadcast Permit Packet To Relay")])]):e._e(),e.permitMetaData&&e.broadcastMessage?n("div",{staticClass:"subtitle color-primary has-text-centered"},[e._v("\n                     "+e._s(e.broadcastMessage)+"\n                   ")]):e._e(),n("div",{staticClass:"whitespace-sm"})]):e._e(),n("div",{staticClass:"whitespace-sm"}),e.permitMetaData?n("div",[n("div",[e._v(" Meta Packet ")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.permitMetaData,expression:"permitMetaData"}],staticClass:"text-black",domProps:{value:e.permitMetaData},on:{input:function(t){t.target.composing||(e.permitMetaData=t.target.value)}}})]):e._e(),e.permitMetaData?n("div",{staticClass:"button inline-block bg-purple-500 hover:bg-purple-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionSubmitPermit}},[e._v(" Submit Meta Tx ")]):e._e(),e.pendingTransaction?n("div",{staticClass:"loader inline-block"}):e._e()])])])]):e._e(),"lavatransfer"==e.selectedActionType?n("div",{staticClass:"lava-transfer-container  m-4 p-4"},[n("div",{staticClass:" "},[n("p",[e._v(" Generate a signed Lava Transfer Message.  This message can be submitted to the Ethereum network by anyone, at which point the tokens will be transferred to the recipient's account.  ")]),n("div",{staticClass:"whitespace-sm"}),n("div",{staticClass:"flex flex-row w-full"},[n("div",{staticClass:"w-1/2 p-4"},[n("div",{staticClass:"form-group padding-md"},[n("div",{staticClass:"label"},[e._v("Method")]),n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.transferTokenMethod,expression:"transferTokenMethod"}],staticClass:" text-black ",attrs:{onchange:" ",placeholder:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.transferTokenMethod=t.target.multiple?n:n[0]}}},[n("option",[e._v("transfer")]),n("option",[e._v("approveAndCall")])])])]),n("div",{staticClass:"form-group padding-md"},[n("div",{staticClass:"label"},[e._v("Amount")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.transferTokenQuantity,expression:"transferTokenQuantity"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"token amount"},domProps:{value:e.transferTokenQuantity},on:{input:function(t){t.target.composing||(e.transferTokenQuantity=t.target.value)}}})]),n("div",{staticClass:"form-group padding-md"},[n("div",{staticClass:"label"},[e._v("Recipient")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.transferTokenRecipient,expression:"transferTokenRecipient"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"token recipient"},domProps:{value:e.transferTokenRecipient},on:{input:function(t){t.target.composing||(e.transferTokenRecipient=t.target.value)}}})]),n("div",{staticClass:"form-group padding-md"},[n("div",{staticClass:"label"},[e._v("Relay Authority")]),n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.relayAuthorityType,expression:"relayAuthorityType"}],staticClass:" text-black  ",attrs:{onchange:" ",placeholder:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.relayAuthorityType=t.target.multiple?n:n[0]}}},[n("option",[e._v("any relayers")])])])]),n("div",{staticClass:"form-group padding-md"},[n("div",{staticClass:"label"},[e._v("Relay Reward (tokens)")]),e._m(2),n("input",{directives:[{name:"model",rawName:"v-model",value:e.transferTokenRelayReward,expression:"transferTokenRelayReward"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"token relay reward"},domProps:{value:e.transferTokenRelayReward},on:{input:function(t){t.target.composing||(e.transferTokenRelayReward=t.target.value)}}})]),n("div",{staticClass:"whitespace-sm"}),n("div",{staticClass:"button inline-block bg-green-500 hover:bg-green-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionSignLavaPacket}},[e._v(" Sign ")])]),n("div",{staticClass:"w-1/2 p-4 "},[n("div",{staticClass:"is-size-6"}),e.lavaMetadata?n("p",[e._v(" Specify the URL for a Lava Network Node and broadcast this packet to the Lava Network Relayers.  They will submit the packet to the Ethereum Network if the reward is high enough.  ")]):e._e(),e.lavaMetadata?n("div",{staticClass:"form-group padding-md"},[n("div",{staticClass:"label"},[e._v("Relay Node URL")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.relayNodeURL,expression:"relayNodeURL"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"xxx.xxx.xxx.xxx:yyyy"},domProps:{value:e.relayNodeURL},on:{input:function(t){t.target.composing||(e.relayNodeURL=t.target.value)}}}),n("div",{staticClass:"whitespace-sm"}),e.lavaMetadata?n("div",{attrs:{id:"btn-broadcast-lava-packet"}},[n("div",{staticClass:"button inline-block bg-blue-500 hover:bg-blue-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionBroadcastLavaPacket}},[e._v("Broadcast Lava Packet To Relay")])]):e._e(),e.lavaMetadata&&e.broadcastMessage?n("div",{staticClass:"subtitle color-primary has-text-centered"},[e._v("\n                     "+e._s(e.broadcastMessage)+"\n                   ")]):e._e(),n("div",{staticClass:"whitespace-sm"})]):e._e(),n("div",{staticClass:"whitespace-sm"}),e.lavaMetadata?n("div",{staticClass:"form-group padding-md"},[n("div",[e._v(" Meta Packet ")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.lavaMetadata,expression:"lavaMetadata"}],staticClass:"text-black",domProps:{value:e.lavaMetadata},on:{input:function(t){t.target.composing||(e.lavaMetadata=t.target.value)}}})]):e._e(),n("div",{staticClass:"whitespace-sm"}),e.lavaMetadata?n("div",{staticClass:"button inline-block bg-purple-500 hover:bg-purple-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionSubmitLava}},[e._v(" Submit Lava Tx ")]):e._e(),e.pendingTransaction?n("div",{staticClass:"loader inline-block"}):e._e()])])])]):e._e()]):e._e()},D=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",[n("div",{staticClass:"icon is-small inline"},[n("i",{staticClass:"material-icons"},[e._v("file_download")])]),n("div",{staticClass:"inline "},[e._v("Permit For Lava")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",[n("div",{staticClass:"icon is-small one-third inline"},[n("i",{staticClass:"material-icons"},[e._v("fast_forward")])]),n("div",{staticClass:"inline "},[e._v("Lava Transfer")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",[e._v(" Optional ")])])}],L=n("75fc"),I=(n("8615"),n("bd86")),F=(n("7f7f"),n("e69e")),E=n("e11a"),H=(n("5d79"),n("eb0d")),W=(n("aef6"),n("f559"),n("7618")),B=function(){function e(){Object(h["a"])(this,e)}return Object(b["a"])(e,null,[{key:"serializePacketData",value:function(e,t){var n,a=[];for(n in e)if(e.hasOwnProperty(n)){var r=t?t+"["+n+"]":n,s=e[n];a.push(null!==s&&"object"===Object(W["a"])(s)?serialize(s,r):encodeURIComponent(r)+"="+encodeURIComponent(s))}return a.join("&")}},{key:"sendLavaPacket",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(n,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.startsWith("http://")||n.startsWith("https://")||(n="http://"+n),n.endsWith("/lavapacket")||(n+="/lavapacket"),t.abrupt("return",new Promise(function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(r){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=new XMLHttpRequest,s.open("POST",n),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){var e=JSON.parse(s.responseText);console.log("successful",e),r({gotReply:!0,packet:a,response:e})}else console.log("failed"),r({gotReply:!1,message:"Request failed.  Returned status of "+s.status})},s.send(e.serializePacketData(a));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:case"end":return t.stop()}}),t)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"sendPermitPacket",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(n,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.startsWith("http://")||n.startsWith("https://")||(n="http://"+n),n.endsWith("/permitpacket")||(n+="/permitpacket"),t.abrupt("return",new Promise(function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(r){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=new XMLHttpRequest,s.open("POST",n),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onreadystatechange=function(){4===s.readyState&&(200===s.status?(console.log("successful"),r({success:!0,packet:a})):(console.log("failed"),r({success:!1,message:"Request failed.  Returned status of "+s.status})))},s.send(e.serializePacketData(a));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:case"end":return t.stop()}}),t)})));function n(e,n){return t.apply(this,arguments)}return n}()}]),e}(),U=n("99e5").utils,$=n("68af"),z=n("a388"),J=(n("b671"),n("bc3a"),{name:"ActionContainer",props:["shouldRender","selectedActionAsset","web3Plug"],components:{},data:function(){return{pendingTransaction:!1,selectedActionType:"permit",permitTokenQuantity:null,permitMetaData:null,transferTokenQuantity:null,transferTokenRecipient:null,transferTokenMethod:"transfer",transferTokenRelayReward:null,relayAuthorityType:["any relayers"],relayNodeURL:null,broadcastMessage:null,lavaMetadata:null}},methods:{selectAction:function(e){this.selectedActionType=e},actionPermitTokens:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s,i,o,l,u,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("permit!!",this.permitTokenQuantity,this.selectedActionAsset),n=this.selectedActionAsset,e.next=4,this.web3Plug.getConnectedAccounts();case 4:return a=e.sent,r=this.web3Plug.web3.utils.toChecksumAddress(a[0]),s=this.web3Plug.getContractDataForActiveNetwork(),i=s["LavaWallet"].address,o=this.web3Plug.getCustomContract(this.web3Plug.web3,$,n.address),e.next=11,o.methods.name().call();case 11:return l=e.sent,u={tokenAddress:U.toChecksumAddress(n.address),permitFrom:U.toChecksumAddress(r),permitTo:U.toChecksumAddress(i),expires:0,allowed:!0},e.next=15,F["a"].performOffchainSignForPermit(u,this.web3Plug);case 15:c=e.sent,this.permitMetaData=JSON.stringify((t={tokenName:l,tokenAddress:n.address,from:c.from,to:c.to},Object(I["a"])(t,"tokenAddress",c.tokenAddress),Object(I["a"])(t,"nonce",c.nonce),Object(I["a"])(t,"expires",c.expires),Object(I["a"])(t,"allowed",c.allowed),Object(I["a"])(t,"signature",c.signature),t));case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionSubmitPermit:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s,i,o,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.selectedActionAsset,e.next=3,this.web3Plug.getConnectedAccounts();case 3:return a=e.sent,r=window.web3.utils.toChecksumAddress(a[0]),this.web3Plug.getContractDataForActiveNetwork(),s=this.web3Plug.getCustomContract(this.web3Plug.web3,$,n.address),i=JSON.parse(this.permitMetaData),console.log("metadata",i),o=E["a"].signatureToVRS(i.signature),l=[U.toChecksumAddress(i.from),U.toChecksumAddress(i.to),i.nonce,i.expires,i.allowed,o.v,o.r,o.s],console.log("myTokenContract",s),console.log("permissibleTokenABI",$),this.pendingTransaction=!0,e.next=16,(t=s.methods).permit.apply(t,l).send({from:r});case 16:u=e.sent,console.log("txResult",u),this.permitMetaData=null,this.pendingTransaction=!1;case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionSignLavaPacket:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s,i,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("SignLavaPacket!!"),t=this.selectedActionAsset,e.next=4,this.web3Plug.getConnectedAccounts();case 4:return n=e.sent,a=window.web3.utils.toChecksumAddress(n[0]),r=this.web3Plug.getContractDataForActiveNetwork(),s=r["LavaWallet"].address,i=t.decimals,o={method:"transfer",relayAuthority:"0x0000000000000000000000000000000000000000",from:a,to:this.transferTokenRecipient,walletAddress:s,tokenAddress:t.address,tokenAmount:this.web3Plug.formattedAmountToRaw(this.transferTokenQuantity,i).toString(),relayerReward:this.web3Plug.formattedAmountToRaw(this.transferTokenRelayReward,i).toString(),expires:0,nonce:H["a"].generateRandomNonce()},console.log("lavaPacketInputData",o),e.next=13,H["a"].performOffchainSignForLavaPacket(o,this.web3Plug);case 13:l=e.sent,console.log("signResult",l),this.lavaMetadata=JSON.stringify(Object.assign(o,{signature:l.signature}));case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionSubmitLava:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s,i,o,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.selectedActionAsset,e.next=3,this.web3Plug.getConnectedAccounts();case 3:return n=e.sent,a=window.web3.utils.toChecksumAddress(n[0]),r=this.web3Plug.getContractDataForActiveNetwork(),s=r["LavaWallet"].address,i=this.web3Plug.getCustomContract(this.web3Plug.web3,z,s),o=JSON.parse(this.lavaMetadata),console.log("metadata",o),delete o["walletAddress"],l=Object.values(o),console.log("lavaArgs",l),this.pendingTransaction=!0,e.next=16,(t=i.methods).transferTokensWithSignature.apply(t,Object(L["a"])(l)).send({from:a});case 16:u=e.sent,console.log("txResult",u),this.permitMetaData=null,this.pendingTransaction=!1;case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionBroadcastLavaPacket:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("broadcast lava packet "),t=this.relayNodeURL,n=JSON.parse(this.lavaMetadata),a=n,this.broadcastMessage=null,e.next=7,B.sendLavaPacket(t,a);case 7:r=e.sent,console.log(r),r.gotReply&&(s=r.response,s.success?this.broadcastMessage="Broadcast successful.":this.broadcastMessage=s.message);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionBroadcastPermitPacket:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("broadcast permit packet "),t=this.relayNodeURL,n=JSON.parse(this.permitMetaData),a=n,this.broadcastMessage=null,e.next=7,B.sendPermitPacket(t,a);case 7:r=e.sent,console.log(r),r.success&&(this.broadcastMessage="Broadcast successful.");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}}),Q=J,q=Object(l["a"])(Q,j,D,!1,null,null,null),V=q.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar w-nav",attrs:{"data-collapse":"small","data-animation":"default","data-duration":"400"}},[n("div",{staticClass:"bg-gray-900  "},[n("div",{staticClass:"container w-container"},[n("div",{staticClass:"w-full flex",staticStyle:{"min-height":"50px"}},[e._m(0),n("div",{staticClass:"hidden lg:inline-block  flex-grow-0"},[n("UpperNav")],1),n("div",{staticClass:"inline-block lg:hidden  flex-grow-0 p-4"},[n("button",{staticClass:"flex items-center px-3 py-2 border rounded text-teal-200 border-teal-400 hover:text-white hover:border-white",on:{click:function(t){e.showResponsiveMenu=!e.showResponsiveMenu}}},[n("svg",{staticClass:"fill-current h-3 w-3",attrs:{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("title",[e._v("Menu")]),n("path",{attrs:{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"}})])]),e.showResponsiveMenu?n("div",{staticClass:"w-full absolute left-0 block flex-grow lg:flex lg:items-center lg:w-auto bg-gray-800"},[n("div",{staticClass:"text-sm lg:flex-grow"},[n("AccordionNav")],1)]):e._e()])])])])])},X=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-grow"},[n("div",{staticClass:"h-full py-6"},[n("a",{staticClass:"brand w-nav-brand w--current  ",attrs:{href:"/"}},[n("img",{staticClass:"w-6 m-2 inline",attrs:{src:"/assets/images/logo.png",height:"35",alt:""}}),n("div",{staticClass:" text-block-10 inline"},[e._v("Meta Wallet")])])])])}],Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"w-full m-2 p-2 inline-block",attrs:{role:"navigation"}},e._l(e.navConfig.dropdowns,(function(t){return n("div",{key:t.title,staticClass:"w-full lg:w-auto block lg:inline-block"},[n("t-dropdown",{staticClass:"w-full",scopedSlots:e._u([{key:"trigger",fn:function(a){var r=a.mousedownHandler,s=a.focusHandler,i=a.blurHandler,o=a.keydownHandler,l=a.isShown;return n("div",{},[n("button",{staticClass:"flex text-md  p-2 m-1 mx-2 text-gray-100 items-center pr-3 bg-transparent focus:outline-none focus:shadow-solid transition duration-150 ease-in-out border-2 border-gray-200",class:{"border-gray-300 bg-gray-500 text-white ":l},attrs:{"aria-label":"User menu","aria-haspopup":"true"},on:{mousedown:r,focus:s,blur:i,keydown:o}},[n("span",{staticClass:"px-2"},[e._v(e._s(t.title))]),n("i",{staticClass:"fas fa-caret-down "})])])}},{key:"default",fn:function(a){a.hide;var r=a.blurHandler;return n("div",{staticClass:"origin-top-right absolute right-0 w-56 shadow-lg text-md bg-gray-900 text-white"},e._l(t.rows,(function(t){return n("a",{key:t.title,staticClass:"block w-full px-4 py-2   leading-5   hover:bg-gray-600 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out",attrs:{href:t.url,target:"_blank",role:"menuitem"},on:{blur:r}},[e._v("\n          "+e._s(t.title)+"\n        ")])})),0)}}],null,!0)})],1)})),0)},Z=[],K={dropdowns:[{title:"COMMUNITY",rows:[{title:"Github",url:"https://github.com/admazzola/metawallet-web"}]}]},ee=K,te={name:"UpperNav",props:[],data:function(){return{navConfig:null}},created:function(){this.navConfig=ee},methods:{}},ne=te,ae=Object(l["a"])(ne,Y,Z,!1,null,null,null),re=ae.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"w-full m-2 p-2 inline-block",attrs:{role:"navigation"}},e._l(e.navConfig.dropdowns,(function(t){return n("div",{key:t.title,staticClass:"w-full lg:w-auto block lg:inline-block"},[n("t-dropdown",{staticClass:"bg-blue-800",attrs:{"tag-name":"nav",classes:{},"fixed-classes":{}},scopedSlots:e._u([{key:"trigger",fn:function(a){var r=a.mousedownHandler,s=(a.focusHandler,a.blurHandler),i=a.keydownHandler,o=a.isShown;return n("div",{staticClass:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},[n("div",{staticClass:"flex justify-between h-16"},[n("div",{staticClass:"flex ml-auto"},[n("div",{staticClass:"-ml-2 mr-2 flex items-center lg:hidden"},[n("div",{staticClass:"flex-shrink-0 flex items-center text-white"},[n("span",{staticClass:"px-2"},[e._v(e._s(t.title))])]),n("button",{staticClass:"inline-flex items-center justify-center p-2 rounded-md text-blue-400 hover:text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700 focus:text-white transition duration-150 ease-in-out",attrs:{"aria-label":"Main menu","aria-expanded":"false"},on:{mousedown:r,blur:s,keydown:i}},[n("svg",{staticClass:"h-6 w-6",class:{hidden:o,block:!o},attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"}})]),n("svg",{staticClass:"h-6 w-6",class:{hidden:!o,block:o},attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])])])])])}}],null,!0)},[n("div",{staticClass:"lg:hidden"},[n("div",{staticClass:"px-2 pt-2 pb-3 sm:px-3"},e._l(t.rows,(function(t){return n("a",{key:t.title,staticClass:"block px-3 py-2 my-2 rounded-md text-base font-medium text-white bg-blue-900 hover:bg-blue-500 focus:outline-none focus:text-white focus:bg-blue-700 transition duration-150 ease-in-out",attrs:{href:t.url,target:"_blank"}},[e._v("\n            "+e._s(t.title)+"\n          ")])})),0)])])],1)})),0)},ie=[],oe={name:"AccordionNav",props:[],data:function(){return{navConfig:null}},created:function(){this.navConfig=ee},methods:{}},le=oe,ue=Object(l["a"])(le,se,ie,!1,null,null,null),ce=ue.exports,de={name:"Navbar",props:[],components:{UpperNav:re,AccordionNav:ce},data:function(){return{showResponsiveMenu:!1}},methods:{}},pe=de,me=Object(l["a"])(pe,G,X,!1,null,null,null),ye=me.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-shrink-0 py-12 text-center"},[n("div",[n("router-link",{staticClass:"font-semibold text-gray-700 hover:underline",attrs:{to:"/"}},[e._v("Home")]),n("span",{staticClass:"mx-4 text-gray-500"},[e._v("|")]),n("router-link",{staticClass:"font-semibold text-gray-700 hover:underline",attrs:{to:"/login"}},[e._v("Connect")]),n("span",{staticClass:"mx-4 text-gray-500"},[e._v("|")]),n("router-link",{staticClass:"font-semibold text-gray-700 hover:underline",attrs:{to:"/docs"}},[e._v("Docs")])],1),e._m(0)])},ve=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-2"},[n("a",{staticClass:"text-sm font-semibold text-gray-600 hover:underline",attrs:{href:"https://github.com/invaderfinance"}},[e._v("\n      Source on GitHub\n    ")])])}],be={name:"Footer",data:function(){return{}},methods:{}},he=be,ge=Object(l["a"])(he,fe,ve,!1,null,null,null),we=ge.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inline-block button text-gray-200  bg-gray-900 hover:bg-gray-700   font-bold py-0 px-1 rounded cursor-pointer"},[n("div",{staticClass:"text-green-500 text-xl inline  ",staticStyle:{"text-shadow":"0px 0px 2px #66dd00"}},[e._v("  Â·  ")]),e._v(e._s(e.getNetworkName())+"\n")])},xe=[],Ce={name:"Web3NetButton",props:["web3Plug"],components:{},data:function(){return{showResponsiveMenu:!1}},methods:{getNetworkName:function(){var e=this.web3Plug.getConnectionState().activeNetworkId;return 1==e?"Mainnet":42==e?"Kovan":"InvalidNetwork"}}},Te=Ce,_e=Object(l["a"])(Te,ke,xe,!1,null,null,null),Ae=_e.exports,Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"asset-list bg-gray-400 px-8",attrs:{id:"asset-list"}},[n("table",{staticClass:"table-auto w-full text-black"},[e._m(0),n("tbody",e._l(e.tokenDataArray,(function(t,a){return n("tr",{staticClass:"hover:bg-gray-200 cursor-pointer select-none",attrs:{"data-tokenaddress":t.address},on:{click:function(n){return e.clickedAsset(t)}}},[n("td",{staticClass:"row-cell has-text-centered icon-url py-6"},[n("img",{attrs:{src:t.imgurl,height:"42",width:"42"}})]),n("td",{staticClass:"row-cell has-text-centered token-name"},[e._v(e._s(t.name))]),n("td",{staticClass:"row-cell has-text-centered"},[n("div",{staticClass:"has-text-centered token-balance"},[e._v(e._s(t.balance_formatted))])]),n("td",{staticClass:"row-cell has-text-centered"},[n("div",{staticClass:"has-text-centered token-balance"},[e._v(e._s(t.approved_formatted))])])])})),0)])])},Pe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",{staticClass:"  text-black font-bold border-b-2 border-black"},[n("td",{staticClass:"has-text-centered"},[e._v(" Icon ")]),n("td",{staticClass:"has-text-centered"},[e._v(" Name ")]),n("td",{staticClass:"has-text-centered"},[e._v(" Balance ")]),n("td",{staticClass:"has-text-centered"},[e._v(" Approved ")])])])}];n("ac4d"),n("8a81"),n("5df3"),n("1c4c");function Me(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Oe(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw s}}}}function Oe(e,t){if(e){if("string"===typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(e,t):void 0}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Se,je=n("2dc0"),De=n("68af"),Le={name:"AssetList",props:["networkName","web3Plug","onSelectedAssetCallback"],data:function(){return{tokenDataArray:[]}},mounted:function(){Se=setInterval(this.update.bind(this),5e3),this.updateTokenArray()},destroyed:function(){clearInterval(Se)},methods:{update:function(){this.updateTokenArray()},updateTokenArray:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s,i,o,l,u,c,d,p,m,y,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=je.networks[this.networkName],n=this.web3Plug.getContractDataForActiveNetwork(),a=n["LavaWallet"].address,r=[],e.next=6,this.web3Plug.getConnectedAccounts();case 6:s=e.sent,i=this.web3Plug.web3.utils.toChecksumAddress(s[0]),o=t.map((function(e){return n[e]})),l=Me(o),e.prev=10,l.s();case 12:if((u=l.n()).done){e.next=33;break}if(c=u.value,null!=c){e.next=16;break}return e.abrupt("continue",31);case 16:return d=Object.assign({},c),p=d.decimals,console.log("tokenDecimals",p),m=this.web3Plug.getCustomContract(this.web3Plug.web3,De,c.address),e.next=22,m.methods.balanceOf(i).call({from:i});case 22:return y=e.sent,d.balance=y,d.balance_formatted=parseFloat(this.web3Plug.rawAmountToFormatted(d.balance,p)).toFixed(2),e.next=27,m.methods.allowance(i,a).call({from:i});case 27:f=e.sent,d.approved=Math.min(f,y),d.approved_formatted=parseFloat(this.web3Plug.rawAmountToFormatted(d.approved,p)).toFixed(2),r.push(d);case 31:e.next=12;break;case 33:e.next=38;break;case 35:e.prev=35,e.t0=e["catch"](10),l.e(e.t0);case 38:return e.prev=38,l.f(),e.finish(38);case 41:this.tokenDataArray=Object.assign({},r);case 42:case"end":return e.stop()}}),e,this,[[10,35,38,41]])})));function t(){return e.apply(this,arguments)}return t}(),clickedAsset:function(e){this.onSelectedAssetCallback(e)}}},Ie=Le,Fe=Object(l["a"])(Ie,Re,Pe,!1,null,null,null),Ee=Fe.exports,He=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},We=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"lava-packet-dropzone bg-red-200",attrs:{id:"lava-packet-dropzone "}},[n("div",{staticClass:"subtitle is-size-3"},[e._v("Drop Lava Packets Here")]),n("div",{staticClass:"dropzone"},[n("div",{staticClass:"hand-icon-holder"}),n("div",{staticClass:"dropzone-file-input-container"},[n("p",[e._v(" Or select a local file ")]),n("div",{staticClass:"light-box"},[n("input",{staticClass:"dropzone-file-input",attrs:{name:"lavaPacketFile",type:"file"}})])])])])}],Be={name:"DropZone",data:function(){return{}},methods:{}},Ue=Be,$e=Object(l["a"])(Ue,He,We,!1,null,null,null),ze=$e.exports,Je={name:"Wallet",components:{Navbar:ye,Footer:we,ActionContainer:V,Web3NetButton:Ae,AssetList:Ee,DropZone:ze},data:function(){return{selectedActionAsset:null,errorMessage:null,web3Plug:null,networkName:null}},created:function(){},methods:{connectToWeb3:function(){this.web3Plug=new S,this.web3Plug.getPlugEventEmitter().on("stateChanged",function(e){console.log("stateChanged",e),this.activeAccountAddress=e.activeAccountAddress,this.activeNetworkId=e.activeNetworkId}.bind(this)),this.web3Plug.getPlugEventEmitter().on("error",function(e){console.error("error",e),this.web3error=e}.bind(this)),this.web3Plug.connectWeb3(),this.networkName=this.web3Plug.getWeb3NetworkName(this.activeNetworkId),console.log("networkName",this.networkName)},connectedToWeb3:function(){return null!=this.web3Plug&&null!=this.web3Plug.getConnectionState().activeNetworkId},getEtherscanBaseURL:function(){var e=this.web3Plug.getConnectionState().activeNetworkId;return 42==e?"https://kovan.etherscan.io":"https://etherscan.io"},onSelectedAssetCallback:function(e){console.log("onSelectedAssetCallback",e),this.selectedActionAsset=e}}},Qe=Je,qe=Object(l["a"])(Qe,m,y,!1,null,null,null),Ve=qe.exports,Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex items-center justify-center"},[e._v("\n  Not Found!\n  "),n("router-link",{attrs:{to:"/"}},[e._v("Go Home")])],1)},Xe=[],Ye={name:"NotFound",data:function(){return{}},methods:{}},Ze=Ye,Ke=Object(l["a"])(Ze,Ge,Xe,!1,null,null,null),et=Ke.exports;a["default"].use(p["a"]);var tt=new p["a"]({routes:[{path:"/",name:"wallet",component:Ve},{path:"/*",component:et}]});n("585e"),n("49dd"),n("e932");a["default"].config.productionTip=!1,a["default"].use(s.a),new a["default"]({router:tt,render:function(e){return e(d)}}).$mount("#app")},"585e":function(e,t,n){},"5d79":function(e,t,n){"use strict";(function(e){n("ac6a"),n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("55dd"),n("7f7f"),n("6b54"),n("6762"),n("2fdb"),n("d225"),n("b0b4");n("81ad"),n("b671")}).call(this,n("1c35").Buffer)},6:function(e,t){},"64a9":function(e,t,n){},"68af":function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"mintingFinished","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_bridgeContract","type":"address"}],"name":"setBridgeContract","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_sender","type":"address"},{"name":"_recipient","type":"address"},{"name":"_amount","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"PERMIT_TYPEHASH","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"},{"name":"_data","type":"bytes"}],"name":"transferAndCall","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"mint","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_value","type":"uint256"}],"name":"burn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"version","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_subtractedValue","type":"uint256"}],"name":"decreaseApproval","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_token","type":"address"},{"name":"_to","type":"address"}],"name":"claimTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"isBridge","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"finishMinting","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"nonces","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getTokenInterfacesVersion","outputs":[{"name":"major","type":"uint64"},{"name":"minor","type":"uint64"},{"name":"patch","type":"uint64"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_holder","type":"address"},{"name":"_spender","type":"address"},{"name":"_nonce","type":"uint256"},{"name":"_expiry","type":"uint256"},{"name":"_allowed","type":"bool"},{"name":"_v","type":"uint8"},{"name":"_r","type":"bytes32"},{"name":"_s","type":"bytes32"}],"name":"permit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"push","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"move","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"bridgeContract","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_addedValue","type":"uint256"}],"name":"increaseApproval","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_amount","type":"uint256"}],"name":"pull","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"expirations","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_name","type":"string"},{"name":"_symbol","type":"string"},{"name":"_decimals","type":"uint8"},{"name":"_chainId","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"from","type":"address"},{"indexed":false,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"ContractFallbackCallFailed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"Mint","type":"event"},{"anonymous":false,"inputs":[],"name":"MintFinished","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"}],"name":"OwnershipRenounced","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"burner","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Burn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"},{"indexed":false,"name":"data","type":"bytes"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},7:function(e,t){},8:function(e,t){},9:function(e,t){},9726:function(e){e.exports=JSON.parse('{"networks":{"mainnet":{"wEth":{"name":"Wrapped Ether","symbol":"wEth","decimals":18,"address":"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"},"0xBTC":{"name":"0xBitcoin","symbol":"0xBTC","decimals":8,"supportsDelegateCallDeposit":true,"address":"0xb6ed7644c69416d67b522e20bc294a9a9b405b31"},"DAI":{"name":"DAI Stablecoin","symbol":"DAI","decimals":18,"address":"0x6b175474e89094c44da98b954eedeac495271d0f"}},"kovan":{"TEST":{"name":"Test Token","symbol":"TEST","decimals":18,"address":"0x7b3a2c7d65c357fa4ccf4ba93d3c0781b843a4f3","imgurl":"/assets/images/tokens/dai.png"},"LavaWallet":{"name":"Lava Wallet","address":"0x7bbd82cf9067ddba47b2d3a2c9070e9f984321e8"}}}}')},a388:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"uint256","name":"chainId","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"constant":false,"inputs":[{"internalType":"string","name":"methodName","type":"string"},{"internalType":"address","name":"relayAuthority","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"tokens","type":"uint256"},{"internalType":"uint256","name":"relayerRewardTokens","type":"uint256"},{"internalType":"uint256","name":"expires","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"approveAndCallWithSignature","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"string","name":"methodName","type":"string"},{"internalType":"address","name":"relayAuthority","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"address","name":"wallet","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"tokens","type":"uint256"},{"internalType":"uint256","name":"relayerRewardTokens","type":"uint256"},{"internalType":"uint256","name":"expires","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"burnSignature","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"contractName","type":"string"},{"internalType":"string","name":"version","type":"string"},{"internalType":"uint256","name":"chainId","type":"uint256"},{"internalType":"address","name":"verifyingContract","type":"address"}],"name":"getEIP712DomainHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[],"name":"getLavaDomainTypehash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"methodName","type":"string"},{"internalType":"address","name":"relayAuthority","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"address","name":"wallet","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"tokens","type":"uint256"},{"internalType":"uint256","name":"relayerRewardTokens","type":"uint256"},{"internalType":"uint256","name":"expires","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"}],"name":"getLavaPacketHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[],"name":"getLavaPacketTypehash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"methodName","type":"string"},{"internalType":"address","name":"relayAuthority","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"address","name":"wallet","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"tokens","type":"uint256"},{"internalType":"uint256","name":"relayerRewardTokens","type":"uint256"},{"internalType":"uint256","name":"expires","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"}],"name":"getLavaTypedDataHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"digest","type":"bytes32"}],"name":"signatureBurnStatus","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"methodName","type":"string"},{"internalType":"address","name":"relayAuthority","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"address","name":"wallet","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"tokens","type":"uint256"},{"internalType":"uint256","name":"relayerRewardTokens","type":"uint256"},{"internalType":"uint256","name":"expires","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"signatureIsValid","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"string","name":"methodName","type":"string"},{"internalType":"address","name":"relayAuthority","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"tokens","type":"uint256"},{"internalType":"uint256","name":"relayerRewardTokens","type":"uint256"},{"internalType":"uint256","name":"expires","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"transferTokensWithSignature","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},e11a:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));n("ac6a"),n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54"),n("96cf");var a=n("3b8d"),r=(n("f559"),n("7f7f"),n("55dd"),n("6762"),n("2fdb"),n("d225")),s=n("b0b4");function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw s}}}}function o(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var u=n("b671"),c=n("81ad"),d=(n("99e5").utils,function(){function t(){Object(r["a"])(this,t)}return Object(s["a"])(t,null,[{key:"dependencies",value:function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(a.includes(e))return a;if(void 0===n[e])return a;a.push(e);var r,s=i(n[e]);try{for(s.s();!(r=s.n()).done;){var o,l=r.value,u=i(t.dependencies(l.type,n,a));try{for(u.s();!(o=u.n()).done;){var c=o.value;a.includes(c)||a.push(c)}}catch(d){u.e(d)}finally{u.f()}}}catch(d){s.e(d)}finally{s.f()}return a}},{key:"encodeType",value:function(e,n){var a=t.dependencies(e,n);a=a.filter((function(t){return t!=e})),a=[e].concat(a.sort());var r,s="",o=i(a);try{for(o.s();!(r=o.n()).done;){var l=r.value;s+="".concat(l,"(").concat(n[l].map((function(e){var t=e.name,n=e.type;return"".concat(n," ").concat(t)})).join(","),")")}}catch(u){o.e(u)}finally{o.f()}return s}},{key:"typeHash",value:function(n,a){return u.keccak(e.from(t.encodeType(n,a)))}},{key:"encodeData",value:function(n,a,r){var s=[],o=[];s.push("bytes32"),o.push(t.typeHash(n,r));var l,d=i(r[n]);try{for(d.s();!(l=d.n()).done;){var p=l.value,m=a[p.name];if("string"==p.type||"bytes"==p.type)s.push("bytes32"),m=u.keccak(e.from(m)),o.push(m);else if(void 0!==r[p.type])s.push("bytes32"),m=u.keccak(e.from(t.encodeData(p.type,m,r))),o.push(m);else{if(p.type.lastIndexOf("]")===p.type.length-1)throw"TODO: Arrays currently unimplemented in encodeData";s.push(p.type),o.push(m)}}}catch(y){d.e(y)}finally{d.f()}return c.rawEncode(s,o)}},{key:"structHash",value:function(n,a,r){return u.keccak(e.from(t.encodeData(n,a,r)))}},{key:"signatureToVRS",value:function(e){e.startsWith("0x")&&(e=e.substring(2));var t="0x"+e.substring(0,64),n="0x"+e.substring(64,128),a=parseInt(e.substring(128,130),16);return{v:a,r:t,s:n}}},{key:"signTypedData",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.currentProvider.sendAsync({method:"eth_signTypedData_v3",params:[n,r],from:n},(function(e,t){if(e)return console.error(e);var n=t.result.substring(2),r="0x"+n.substring(0,64),s="0x"+n.substring(64,128),i=parseInt(n.substring(128,130),16);console.log({r:r,s:s,v:i}),console.log("sign returned ",t),a({signature:t.result,v:i,r:r,s:s})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));function t(t,n,a){return e.apply(this,arguments)}return t}()}]),t}())}).call(this,n("1c35").Buffer)},e69e:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));n("7f7f"),n("96cf");var a=n("3b8d"),r=n("d225"),s=n("b0b4"),i=n("e11a"),o=n("99e5").utils,l=n("b671"),u=n("68af"),c=function(){function t(){Object(r["a"])(this,t)}return Object(s["a"])(t,null,[{key:"getPermitTypedDataHash",value:function(t){var n=o.sha3(e.concat([e.from("1901","hex"),i["a"].structHash("EIP712Domain",t.domain,t.types),i["a"].structHash(t.primaryType,t.message,t.types)]));return n}},{key:"recoverPermitSigner",value:function(e,t){var n=LavaPacketUtils.getLavaTypedDataHash(e,e.types),a=l.toBuffer(t),r=l.fromRpcSig(a),s=l.toBuffer(n),i=l.ecrecover(s,r.v,r.r,r.s),o=l.pubToAddress(i),u=l.bufferToHex(o);e.message;return console.log("recovered signer pub address",u.toLowerCase()),u.toLowerCase()}},{key:"getPermitTypedDataFromParams",value:function(e,t,n,a,r,s,i,o){var l={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Permit:[{name:"holder",type:"address"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"},{name:"allowed",type:"bool"}]},primaryType:"Permit",domain:{name:e,version:"1",chainId:t,verifyingContract:n},message:{holder:a,spender:r,nonce:s,expiry:i,allowed:o}};return l}},{key:"performOffchainSignForPermit",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n,a){var r,s,o,l,c,d,p,m,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a.getCustomContract(a.web3,u,n.tokenAddress),console.log("myTokenContract",r),e.next=4,r.methods.name().call();case 4:return s=e.sent,o=a.getConnectionState().activeNetworkId,0,e.next=9,r.methods.nonces(n.permitFrom).call();case 9:return l=e.sent,c=parseInt(l),d=[n.permitFrom,n.permitTo,c,n.expires,n.allowed],p=t.getPermitTypedDataFromParams.apply(t,[s,o,window.web3.utils.toChecksumAddress(n.tokenAddress)].concat(d)),console.log("permit typedData",p),m=JSON.stringify(p),t.getPermitTypedDataHash(p),e.next=18,i["a"].signTypedData(a.web3,n.permitFrom,m);case 18:return y=e.sent,y.tokenAddress=n.tokenAddress,y.from=n.permitFrom,y.to=n.permitTo,y.expires=n.expires,y.allowed=n.allowed,y.nonce=c,console.log("signResult",y),e.abrupt("return",y);case 27:case"end":return e.stop()}}),e)})));function n(t,n){return e.apply(this,arguments)}return n}()}]),t}()}).call(this,n("1c35").Buffer)},e932:function(e,t,n){},eb0d:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));n("ac6a"),n("8615");var a=n("75fc"),r=(n("96cf"),n("3b8d")),s=n("d225"),i=n("b0b4"),o=n("e11a"),l=n("5ba3"),u=function(){function t(){Object(s["a"])(this,t)}return Object(i["a"])(t,null,[{key:"getLavaPacket",value:function(e,t,n,a,r,s,i,o,l,u,c){return{method:e,relayAuthority:t,from:n,to:a,walletAddress:r,tokenAddress:s,tokenAmount:i,relayerReward:o,expires:l,nonce:u,signature:c}}},{key:"generateRandomNonce",value:function(){return l.randomHex(16)}},{key:"getLavaTypedDataHash",value:function(t){var n=l.sha3(e.concat([e.from("1901","hex"),o["a"].structHash("EIP712Domain",t.domain,t.types),o["a"].structHash(t.primaryType,t.message,t.types)]));return console.log("meep 1",o["a"].structHash("EIP712Domain",t.domain,t.types)),console.log("meep 2",o["a"].structHash(t.primaryType,t.message,t.types)),n}},{key:"getLavaPacketSchemaHash",value:function(){var e="0x8fd4f9177556bbc74d0710c8bdda543afd18cc84d92d64b5620d5f1881dceb37";return e}},{key:"recoverLavaPacketSigner",value:function(e,n){var a=t.getLavaTypedDataHash(e,e.types),r=ethUtil.toBuffer(n),s=ethUtil.fromRpcSig(r),i=ethUtil.toBuffer(a),o=ethUtil.ecrecover(i,s.v,s.r,s.s),l=ethUtil.pubToAddress(o),u=ethUtil.bufferToHex(l);e.message;return console.log("recovered signer pub address",u.toLowerCase()),u.toLowerCase()}},{key:"signTypedData",value:function(e,t){var n=ethSigUtil.typedSignatureHash(t.data);console.log("msghash1",n);var a=ethUtil.toBuffer(n),r=ethUtil.ecsign(a,e);return ethUtil.bufferToHex(ethSigUtil.concatSig(r.v,r.r,r.s))}},{key:"getLavaTypedDataFromParams",value:function(e,t,n,a,r,s,i,o,u,c,d){var p={types:{EIP712Domain:[{name:"contractName",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],LavaPacket:[{name:"methodName",type:"string"},{name:"relayAuthority",type:"address"},{name:"from",type:"address"},{name:"to",type:"address"},{name:"wallet",type:"address"},{name:"token",type:"address"},{name:"tokens",type:"uint256"},{name:"relayerRewardTokens",type:"uint256"},{name:"expires",type:"uint256"},{name:"nonce",type:"uint256"}]},primaryType:"LavaPacket",domain:{contractName:"Lava Wallet",version:"1",chainId:e,verifyingContract:l.toChecksumAddress(s)},message:{methodName:t,relayAuthority:n,from:l.toChecksumAddress(a),to:l.toChecksumAddress(r),wallet:l.toChecksumAddress(s),token:l.toChecksumAddress(i),tokens:o,relayerRewardTokens:u,expires:c,nonce:d}};return p}},{key:"getLavaParamsFromData",value:function(e,t,n,a,r,s,i,o,l,u){var c=[{type:"bytes",name:"method",value:e},{type:"address",name:"relayAuthority",value:t},{type:"address",name:"from",value:n},{type:"address",name:"to",value:a},{type:"address",name:"walletAddress",value:r},{type:"address",name:"tokenAddress",value:s},{type:"uint256",name:"tokenAmount",value:i},{type:"uint256",name:"relayerReward",value:o},{type:"uint256",name:"expires",value:l},{type:"uint256",name:"nonce",value:u}];return c}},{key:"formatAmountWithDecimals",value:function(e,t){var n=e/(1*Math.pow(10,t));return n}},{key:"getContractLavaMethod",value:function(e,t){var n;return n="transfer"==t.method?e.methods.transferTokensFromWithSignature(t.from,t.to,t.tokenAddress,t.tokenAmount,t.relayerReward,t.expires,t.nonce,t.signature):"withdraw"==t.method?e.methods.withdrawTokensFromWithSignature(t.from,t.to,t.tokenAddress,t.tokenAmount,t.relayerReward,t.expires,t.nonce,t.signature):"approve"==t.method?e.methods.approveTokensWithSignature(t.from,t.to,t.tokenAddress,t.tokenAmount,t.relayerReward,t.expires,t.nonce,t.signature):e.methods.approveAndCall(t.method,t.from,t.to,t.tokenAddress,t.tokenAmount,t.relayerReward,t.expires,t.nonce,t.signature),n}},{key:"getFunctionCall",value:function(e,t){var n;return n="transfer"==t.method?e.eth.abi.encodeFunctionCall({name:"transferTokensFromWithSignature",type:"function",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"token",type:"address"},{name:"tokens",type:"uint256"},{name:"relayerReward",type:"uint256"},{name:"expires",type:"uint256"},{name:"nonce",type:"uint256"},{name:"signature",type:"bytes"}]},[t.from,t.to,t.tokenAddress,t.tokenAmount,t.relayerReward,t.expires,t.nonce,t.signature]):"withdraw"==t.method?e.eth.abi.encodeFunctionCall({name:"withdrawTokensFromWithSignature",type:"function",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"token",type:"address"},{name:"tokens",type:"uint256"},{name:"relayerReward",type:"uint256"},{name:"expires",type:"uint256"},{name:"nonce",type:"uint256"},{name:"signature",type:"bytes"}]},[t.from,t.to,t.tokenAddress,t.tokenAmount,t.relayerReward,t.expires,t.nonce,t.signature]):"approve"==t.method?e.eth.abi.encodeFunctionCall({name:"approveTokensFromWithSignature",type:"function",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"token",type:"address"},{name:"tokens",type:"uint256"},{name:"relayerReward",type:"uint256"},{name:"expires",type:"uint256"},{name:"nonce",type:"uint256"},{name:"signature",type:"bytes"}]},[t.from,t.to,t.tokenAddress,t.tokenAmount,t.relayerReward,t.expires,t.nonce,t.signature]):e.eth.abi.encodeFunctionCall({name:"approveAndCall",type:"function",inputs:[{name:"method",type:"bytes"},{name:"from",type:"address"},{name:"to",type:"address"},{name:"token",type:"address"},{name:"tokens",type:"uint256"},{name:"relayerReward",type:"uint256"},{name:"expires",type:"uint256"},{name:"nonce",type:"uint256"},{name:"signature",type:"bytes"}]},[t.method,t.from,t.to,t.tokenAddress,t.tokenAmount,t.relayerReward,t.expires,t.nonce,t.signature]),n}},{key:"getEIP712TypedData",value:function(){return{type:"object",properties:{types:{type:"object",properties:{EIP712Domain:{type:"array"}},additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}},required:["EIP712Domain"]},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]}}},{key:"performOffchainSignForLavaPacket",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n,r){var s,i,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=r.getConnectionState().activeNetworkId,i=t.getLavaTypedDataFromParams.apply(t,[s].concat(Object(a["a"])(Object.values(n)))),console.log("lavapacket  typedData",i),l=JSON.stringify(i),e.next=6,o["a"].signTypedData(r.web3,n.from,l);case 6:return u=e.sent,console.log("signResult",u),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})));function n(t,n){return e.apply(this,arguments)}return n}()}]),t}()}).call(this,n("1c35").Buffer)}});
//# sourceMappingURL=app.08ca416b.js.map